{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/raps/gelo/frontend/src/components/Units/index.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { requestUsers } from \"../../store/actions\";\nimport connect from \"react-redux/es/connect/connect\";\nimport CreateUnit from './CreateUnit';\n\nclass Units extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentWillUpdate = async () => {\n      // axios.get('/api/users/units', this.props.userID )\n      //     .then(res => {\n      //         console.log('>> res', res.data);\n      //     })\n      //     .catch(err => {\n      //         console.log('>> err', err);\n      //     })\n      this.props.requestUsers(this.props.userID);\n    };\n\n    this.removeUnit = e => {\n      e.preventDefault();\n      const email = {\n        email: e.target.closest('.table_row').querySelector('.table_line').innerHTML\n      };\n      console.log('>> Email', email);\n      axios.post('/api/users/remove/', email).then(res => {\n        console.log('>> Remove', res);\n      }).catch(err => {\n        console.log('>> Remove Email', err);\n      }); // TO-DO\n\n      e.target.closest('.table_row').remove();\n    };\n\n    this.state = {\n      units: this.props.units,\n      isLoading: false\n    };\n  }\n\n  render() {\n    console.log('>> Render Units', this.props.units);\n    return React.createElement(\"div\", {\n      className: \"unitsRow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wr\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tables\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Units\"), React.createElement(\"div\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, (this.state.units && []).map(item => {\n      return React.createElement(\"div\", {\n        className: \"table_row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"table_line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, item.email), React.createElement(\"a\", {\n        onClick: this.removeUnit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Remove Unit\"));\n    }))), React.createElement(CreateUnit, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapState = state => ({\n  units: state.authReducer.units,\n  user: state.authReducer.user,\n  userID: state.authReducer.userID\n});\n\nconst mapDispatch = dispatch => ({\n  requestUsers: data => {\n    dispatch(requestUsers(data));\n  }\n});\n\nexport default connect(mapState, mapDispatch)(Units);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/raps/gelo/frontend/src/components/Units/index.js"],"names":["React","Component","axios","requestUsers","connect","CreateUnit","Units","constructor","props","componentWillUpdate","userID","removeUnit","e","preventDefault","email","target","closest","querySelector","innerHTML","console","log","post","then","res","catch","err","remove","state","units","isLoading","render","map","item","mapState","authReducer","user","mapDispatch","dispatch","data"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport {requestUsers} from \"../../store/actions\";\nimport connect from \"react-redux/es/connect/connect\";\nimport CreateUnit from './CreateUnit'\n\nclass Units extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            units: this.props.units,\n            isLoading: false\n        };\n    }\n\n    componentWillUpdate = async() => {\n        // axios.get('/api/users/units', this.props.userID )\n        //     .then(res => {\n        //         console.log('>> res', res.data);\n        //     })\n        //     .catch(err => {\n        //         console.log('>> err', err);\n        //     })\n        this.props.requestUsers(this.props.userID);\n\n    };\n\n    // Change to saga\n    removeUnit = (e) => {\n        e.preventDefault();\n\n        const email = { email: e.target.closest('.table_row').querySelector('.table_line').innerHTML };\n        console.log('>> Email', email);\n\n        axios.post('/api/users/remove/', email)\n            .then(res => {\n                console.log('>> Remove', res)\n            })\n            .catch(err => {\n                console.log('>> Remove Email', err)\n            });\n\n        // TO-DO\n        e.target.closest('.table_row').remove();\n    };\n\n    render(){\n        console.log('>> Render Units', this.props.units);\n        return (\n            <div className={\"unitsRow\"}>\n                <div className=\"wr\">\n                    <div className=\"tables\">\n                        <h2>Units</h2>\n                        <div className=\"table\">\n                            {\n                                (this.state.units && []).map((item) => {\n                                    return <div className=\"table_row\"><div className=\"table_line\">{item.email}</div><a onClick={this.removeUnit}>Remove Unit</a></div>;\n                                })\n                            }\n                        </div>\n                    </div>\n                    <CreateUnit />\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapState = state => ({\n    units: state.authReducer.units,\n    user: state.authReducer.user,\n    userID: state.authReducer.userID\n});\n\nconst mapDispatch = (dispatch) => ({\n    requestUsers: data => {\n        dispatch(requestUsers(data))\n    }\n});\n\nexport default connect(mapState, mapDispatch)(Units)"]},"metadata":{},"sourceType":"module"}