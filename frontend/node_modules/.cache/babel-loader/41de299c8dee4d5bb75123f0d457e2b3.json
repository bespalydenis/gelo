{"ast":null,"code":"import _objectSpread from \"/Applications/MAMP/htdocs/raps/gelo/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Applications/MAMP/htdocs/raps/gelo/frontend/src/components/Auth/ConfirmationTypes/Step/Step2.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { login, setUserStatus, requestUserData } from \"../../../../store/actions\";\nimport '../../index.scss';\nimport Select from 'react-select';\nimport axios from \"axios\";\n\nclass Step2 extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleNextStep = e => {\n      e.preventDefault();\n      console.log('>> metric system', this.state.unitSystem);\n      axios.post('/api/users/completeStep2', {\n        id: this.props.userID,\n        meta: this.state\n      }).then(result => {\n        console.log('>> completeStep2', result);\n        this.props.setUserStatus({\n          id: this.props.userID,\n          status: 3\n        });\n      }).catch(error => {\n        console.log('>> error', error);\n      });\n    };\n\n    this.changeUnitSystem = e => {\n      const unitSystem = e.target.closest('.cCheckbox').dataset.usersystem;\n      console.log(\">> unitSystem\", unitSystem);\n\n      if (unitSystem === 'metric' || unitSystem === 'imperial') {\n        console.log('>> UN');\n        this.setState({\n          unitSystem: unitSystem\n        });\n      }\n    };\n\n    this.setLanguage = selected => {\n      this.setState({\n        language: selected.value\n      });\n    };\n\n    this.setCurrency = selected => {\n      this.setState({\n        currency: selected.value\n      });\n    };\n\n    this.skipSteps = e => {\n      e.preventDefault();\n      this.props.setUserStatus({\n        id: this.props.userID,\n        status: 5\n      });\n    };\n\n    this.prevStep = e => {\n      e.preventDefault();\n      console.log('>> pS', this.props.userID);\n      this.props.setUserStatus({\n        id: this.props.userID,\n        status: this.props.user.status - 1\n      });\n    };\n\n    this.state = {\n      userStatus: this.props.user.status,\n      language: 'english' && this.props.user.language,\n      unitSystem: 'metric' && this.props.user.unitSystem,\n      currency: 'usd' && this.props.user.currency\n    };\n  }\n\n  render() {\n    const optionsLanguage = [{\n      value: 'english',\n      label: 'English'\n    }];\n    const optionsCurrency = [{\n      value: 'usd',\n      label: '$ - United States Dollars (USD)'\n    }];\n    const customStyles = {\n      option: (provided, {\n        data,\n        isDisabled,\n        isSelected,\n        isFocused\n      }) => _objectSpread({}, provided, {\n        height: 40,\n        backgroundColor: isDisabled ? null : isSelected ? '#F4F8FF' : null,\n        color: isSelected ? '#162B5B' : isFocused ? '#3260CC' : '#162B5B',\n        paddingLeft: 19,\n        paddingRight: 19\n      }),\n      valueContainer: provided => _objectSpread({}, provided, {\n        height: 50,\n        fontSize: 16,\n        paddingLeft: 19,\n        paddingRight: 19,\n        borderColor: '#CCD3E3'\n      }),\n      container: provided => _objectSpread({}, provided, {\n        fontSize: 16,\n        border: 'none !important',\n        borderColor: '#CCD3E3'\n      }),\n      control: provided => _objectSpread({}, provided, {\n        borderBottom: '1px solid #CCD3E3 !important',\n        borderLeft: '1px solid #CCD3E3 !important',\n        borderTop: '1px solid #CCD3E3 !important',\n        borderRight: '1px solid #CCD3E3 !important'\n      }),\n      dropdownIndicator: provided => _objectSpread({}, provided, {\n        padding: 0,\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      }),\n      indicatorsContainer: provided => _objectSpread({}, provided, {\n        width: 29,\n        position: 'relative',\n        right: 1,\n        borderLeft: '1px solid #CCD3E3',\n        backgroundColor: '#f5f6f9',\n        borderRadius: '0 4px 4px 0'\n      }),\n      indicatorSeparator: provided => _objectSpread({}, provided, {\n        display: 'none !important'\n      }),\n      input: provided => _objectSpread({}, provided, {\n        display: 'flex',\n        alignItems: 'center',\n        height: '100%',\n        padding: 0,\n        margin: 0\n      })\n    };\n    console.log('>> STEP #2', this.state.unitSystem);\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"authForm_head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"authForm_title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Organization settings\"), React.createElement(\"p\", {\n      className: \"currentStep\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Step 2 of 4\")), React.createElement(\"div\", {\n      className: \"authForm_body authForm_steps\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"label50 label50-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Language\"), React.createElement(Select, {\n      options: optionsLanguage,\n      defaultValue: {\n        value: 'english',\n        label: 'English'\n      },\n      onChange: this.setLanguage,\n      styles: customStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      className: \"label50 label50-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"label-cCheckboxes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Unit system\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      \"data-usersystem\": \"metric\",\n      className: this.state.unitSystem === 'metric' ? \"cCheckbox cCheckbox-active\" : \"cCheckbox\",\n      onClick: this.changeUnitSystem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cCheckbox_input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Metric system (cm / kg)\")), React.createElement(\"div\", {\n      \"data-usersystem\": \"imperial\",\n      className: this.state.unitSystem === 'imperial' ? \"cCheckbox cCheckbox-active\" : \"cCheckbox\",\n      onClick: this.changeUnitSystem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cCheckbox_input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Imperial (ft / lbs)\")))), React.createElement(\"label\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Currency\"), React.createElement(Select, {\n      options: optionsCurrency,\n      defaultValue: {\n        value: 'usd',\n        label: '$ - United States Dollars (USD)'\n      },\n      onChange: this.setCurrency,\n      styles: customStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn btn-blue btn-continue btn-mt\",\n      onClick: this.handleNextStep,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Continue\"), React.createElement(\"div\", {\n      className: \"stepActions\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"stepActions_prev\",\n      onClick: this.prevStep,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Back to previous step\"), React.createElement(\"a\", {\n      className: \"stepActions_skip\",\n      onClick: this.skipSteps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Skip all steps\"))));\n  }\n\n}\n\nconst mapState = state => ({\n  currentUser: state.authReducer.currentUser,\n  isLoggedIn: state.authReducer.isLoggedIn,\n  userID: state.authReducer.userID,\n  errors: state.authReducer.errors\n});\n\nconst mapDispatch = dispatch => ({\n  login: data => {\n    dispatch(login(data));\n  },\n  setUserStatus: data => {\n    dispatch(setUserStatus(data));\n  },\n  requestUserData: data => {\n    dispatch(requestUserData(data));\n  }\n});\n\nexport default connect(mapState, mapDispatch)(Step2);","map":{"version":3,"sources":["/Applications/MAMP/htdocs/raps/gelo/frontend/src/components/Auth/ConfirmationTypes/Step/Step2.js"],"names":["React","connect","Link","login","setUserStatus","requestUserData","Select","axios","Step2","Component","constructor","props","onChange","e","setState","target","id","value","handleNextStep","preventDefault","console","log","state","unitSystem","post","userID","meta","then","result","status","catch","error","changeUnitSystem","closest","dataset","usersystem","setLanguage","selected","language","setCurrency","currency","skipSteps","prevStep","user","userStatus","render","optionsLanguage","label","optionsCurrency","customStyles","option","provided","data","isDisabled","isSelected","isFocused","height","backgroundColor","color","paddingLeft","paddingRight","valueContainer","fontSize","borderColor","container","border","control","borderBottom","borderLeft","borderTop","borderRight","dropdownIndicator","padding","width","display","justifyContent","alignItems","indicatorsContainer","position","right","borderRadius","indicatorSeparator","input","margin","mapState","currentUser","authReducer","isLoggedIn","errors","mapDispatch","dispatch"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport {login, setUserStatus, requestUserData} from \"../../../../store/actions\";\nimport '../../index.scss';\nimport Select from 'react-select'\nimport axios from \"axios\";\n\nclass Step2 extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            userStatus: this.props.user.status,\n            language: 'english' && this.props.user.language,\n            unitSystem: 'metric' && this.props.user.unitSystem,\n            currency: 'usd' && this.props.user.currency,\n        };\n    }\n\n    onChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    };\n\n    handleNextStep = (e) => {\n        e.preventDefault();\n        console.log('>> metric system', this.state.unitSystem);\n        axios.post('/api/users/completeStep2', {id: this.props.userID, meta: this.state}).then(result => {\n            console.log('>> completeStep2', result);\n            this.props.setUserStatus({ id: this.props.userID, status: 3 });\n        }).catch(error => {\n            console.log('>> error', error);\n        });\n    };\n\n    changeUnitSystem = (e) => {\n        const unitSystem = e.target.closest('.cCheckbox').dataset.usersystem;\n        console.log(\">> unitSystem\", unitSystem);\n        if(unitSystem === 'metric' || unitSystem === 'imperial') {\n            console.log('>> UN');\n            this.setState({ unitSystem: unitSystem });\n        }\n\n    };\n\n    setLanguage = (selected) => {\n        this.setState({ language: selected.value });\n    };\n\n    setCurrency = (selected) => {\n        this.setState({ currency: selected.value });\n    };\n\n    skipSteps = (e) => {\n        e.preventDefault();\n\n        this.props.setUserStatus({\n            id: this.props.userID,\n            status: 5\n        })\n    };\n\n    prevStep = (e) => {\n        e.preventDefault();\n\n        console.log('>> pS', this.props.userID);\n\n        this.props.setUserStatus({\n            id: this.props.userID,\n            status: this.props.user.status - 1\n        })\n    };\n\n    render() {\n        const optionsLanguage = [\n            { value: 'english', label: 'English' }\n        ];\n\n        const optionsCurrency = [\n            { value: 'usd', label: '$ - United States Dollars (USD)' }\n        ];\n\n        const customStyles = {\n            option: (provided, { data, isDisabled, isSelected, isFocused }) => ({\n                ...provided,\n                height: 40,\n                backgroundColor: isDisabled\n                    ? null\n                    : isSelected\n                        ? '#F4F8FF'\n                        : null,\n                color: isSelected ? '#162B5B' : isFocused ? '#3260CC' : '#162B5B',\n                paddingLeft: 19,\n                paddingRight: 19,\n            }),\n            valueContainer: (provided) => ({\n                ...provided,\n                height: 50,\n                fontSize: 16,\n                paddingLeft: 19,\n                paddingRight: 19,\n                borderColor: '#CCD3E3'\n            }),\n            container: (provided) => ({\n                ...provided,\n                fontSize: 16,\n                border: 'none !important',\n                borderColor: '#CCD3E3'\n            }),\n            control: (provided) => ({\n                ...provided,\n                borderBottom: '1px solid #CCD3E3 !important',\n                borderLeft: '1px solid #CCD3E3 !important',\n                borderTop: '1px solid #CCD3E3 !important',\n                borderRight: '1px solid #CCD3E3 !important',\n            }),\n            dropdownIndicator: (provided) => ({\n                ...provided,\n                padding: 0,\n                width: '100%',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center'\n            }),\n            indicatorsContainer: (provided) => ({\n                ...provided,\n                width: 29,\n                position: 'relative',\n                right: 1,\n                borderLeft: '1px solid #CCD3E3',\n                backgroundColor: '#f5f6f9',\n                borderRadius: '0 4px 4px 0'\n            }),\n            indicatorSeparator: (provided) => ({\n                ...provided,\n                display: 'none !important'\n            }),\n            input: (provided) => ({\n                ...provided,\n                display: 'flex',\n                alignItems: 'center',\n                height: '100%',\n                padding: 0,\n                margin: 0\n            })\n        };\n\n        console.log('>> STEP #2', this.state.unitSystem);\n\n        return (\n            <React.Fragment>\n                <div className=\"authForm_head\">\n                    <div className=\"authForm_title\">Organization settings</div>\n                    <p className={\"currentStep\"}>Step 2 of 4</p>\n                </div>\n                <div className=\"authForm_body authForm_steps\">\n                    <label className={\"label50 label50-left\"}>\n                        <span>Language</span>\n                        <Select options={optionsLanguage}\n                                defaultValue={{ value: 'english', label: 'English' }}\n                                onChange={this.setLanguage}\n                                styles={customStyles} />\n                    </label>\n                    <label className={\"label50 label50-right\"}>\n                    </label>\n                    <label className={\"label-cCheckboxes\"}>\n                        <span>Unit system</span>\n                        <div className=\"row\">\n                            <div data-usersystem={\"metric\"} className={(this.state.unitSystem === 'metric') ? \"cCheckbox cCheckbox-active\" : \"cCheckbox\"}\n                                 onClick={this.changeUnitSystem}\n                            >\n                                <div className=\"cCheckbox_input\"></div>\n                                <p>Metric system (cm / kg)</p>\n                            </div>\n                            <div data-usersystem={\"imperial\"} className={(this.state.unitSystem === 'imperial') ? \"cCheckbox cCheckbox-active\" : \"cCheckbox\"}\n                                 onClick={this.changeUnitSystem}\n                            >\n                                <div className=\"cCheckbox_input\"></div>\n                                <p>Imperial (ft / lbs)</p>\n                            </div>\n                        </div>\n                    </label>\n                    <label className={\"\"}>\n                        <span>Currency</span>\n                        <Select\n                            options={optionsCurrency}\n                            defaultValue={{ value: 'usd', label: '$ - United States Dollars (USD)' }}\n                            onChange={this.setCurrency}\n                            styles={customStyles} />\n                    </label>\n                    <button\n                        className={\"btn btn-blue btn-continue btn-mt\"}\n                        onClick={this.handleNextStep}\n                    >\n                        Continue\n                    </button>\n                    <div className=\"stepActions\">\n                        <Link className={\"stepActions_prev\"} onClick={this.prevStep}>Back to previous step</Link>\n                        <a className=\"stepActions_skip\"\n                           onClick={this.skipSteps}\n                        >Skip all steps</a>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nconst mapState = (state) => ({\n    currentUser: state.authReducer.currentUser,\n    isLoggedIn: state.authReducer.isLoggedIn,\n    userID: state.authReducer.userID,\n    errors: state.authReducer.errors\n});\n\nconst mapDispatch = (dispatch) => ({\n    login: data => {\n        dispatch(login(data))\n    },\n    setUserStatus: data => {\n        dispatch(setUserStatus(data))\n    },\n    requestUserData: data => {\n        dispatch(requestUserData(data))\n    }\n});\n\n\nexport default connect(mapState, mapDispatch)(Step2)"]},"metadata":{},"sourceType":"module"}